{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <title>{% block title %}{% endblock title %}</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  </head>

  <body>
    {% comment %} Level-1 Nav-Bar {% endcomment %}
     <nav class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-md flex-1">
        <div class="max-w-7xl mx-auto px-2 lg:px-8">
        <div class="flex justify-between items-center h-16">
            <div class='flex ml-5 md:ml-10 gap-2'>
              <img src="https://res.cloudinary.com/dbgsrmvgi/image/upload/v1761561563/logo_white_usu8kl.png" alt="" class = 'w-10 m-1'>
              <div class="flex-shrink-0">
              <h2 class='text-xl font-bold text-white'>What's Today?</h2>
              <h2 class='text-sm font-normal text-white'>Manage your events</h2>
              </div>
            </div>
            <div class="hidden md:flex space-x-4"> 
              {% if request.user.groups.first.name == "Admin" %}
                <!-- Admin navigation -->
                {% include "nav_bars/nav_admin.html" %}
            {% elif request.user.groups.first.name == "Organizer" %}
                <!-- Organizer navigation -->
                {% include "nav_bars/nav_organizer.html" %}
            {% elif request.user.groups.first.name == "Participant" %}
                <!-- Participant navigation -->
                {% include "nav_bars/nav_participant.html" %}
            {% else %}
                {% include "nav_bars/nav_login.html" %}
            {% endif %}
</div>
    
              <!-- Mobile menu button -->
              <div class="md:hidden flex items-center">
              <button id="mobile-menu-button" class="text-white">
                  <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M4 6h16M4 12h16M4 18h16"/>
                  </svg>
              </button>
            </div>
        </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden absolute top-16 left-0 right-0 bg-gradient-to-r from-indigo-600 to-purple-600 px-4 pb-4 space-y-2 shadow-lg z-50">
{% if request.user.groups.first.name == "Admin" %}
                <!-- Admin navigation -->
                {% include "nav_bars/nav_admin.html" %}
            {% elif request.user.groups.first.name == "Organizer" %}
                <!-- Organizer navigation -->
                {% include "nav_bars/nav_organizer.html" %}
            {% elif request.user.groups.first.name == "Participant" %}
                <!-- Participant navigation -->
                {% include "nav_bars/nav_participant.html" %}
            {% else %}
                {% include "nav_bars/nav_login.html" %}
            {% endif %}
        </div>
        <script>
    // Main mobile menu toggle
    document.getElementById('mobile-menu-button').addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenu.classList.toggle('hidden');
    });
document.addEventListener('DOMContentLoaded', function() {
    // Handle all dropdown toggles
    const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
    
    dropdownToggles.forEach(toggle => {
        toggle.addEventListener('click', function(e) {
            e.stopPropagation();
            
            const menu = this.nextElementSibling;
            const arrow = this.querySelector('.dropdown-arrow');
            const isHidden = menu.classList.contains('hidden');
            
            // Close all other dropdowns
            document.querySelectorAll('.dropdown-menu').forEach(m => {
                if (m !== menu) {
                    m.classList.add('hidden');
                }
            });
            document.querySelectorAll('.dropdown-arrow').forEach(a => {
                if (a !== arrow) {
                    a.classList.remove('rotate-180');
                }
            });
            
            // Toggle current dropdown
            if (isHidden) {
                menu.classList.remove('hidden');
                arrow.classList.add('rotate-180');
            } else {
                menu.classList.add('hidden');
                arrow.classList.remove('rotate-180');
            }
        });
    });
    
    // Close dropdowns when clicking outside
    document.addEventListener('click', function(e) {
        if (!e.target.closest('.dropdown-toggle')) {
            document.querySelectorAll('.dropdown-menu').forEach(menu => {
                menu.classList.add('hidden');
            });
            document.querySelectorAll('.dropdown-arrow').forEach(arrow => {
                arrow.classList.remove('rotate-180');
            });
        }
    });
});
</script>
  </nav>
  
  {% block content %}
  {% endblock content %}
  </body>
  <footer class="bg-gray-800 text-white py-8 ">
      <div class="container mx-auto px-6 md:px-20">
        <div class="flex flex-wrap justify-between">
          <div class="flex flex-col justify-center items-center w-auto md:w-1/4 mb-8 md:mb-0">
            <div class='flex items-center'>
              <img src="https://res.cloudinary.com/dbgsrmvgi/image/upload/v1761561563/logo_white_usu8kl.png" alt="" class = 'w-10 m-2'>
              <h3 class="text-2xl md:text-3xl font-semibold">What's Today?</h3>
            </div>
            <p class="text-center text-gray-400">
              Easy Solution to handle all your events
            </p>
          </div>
          {% comment %} Quick_Links+Connects {% endcomment %}
          <div class="flex justify-between px-4 md:px-0 items-start gap-0 md:gap-28 w-full md:w-auto">
            <div class="flex flex-col justify-center  mb-8 md:mb-0">
            <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
            <ul class="text-gray-400 text-center md:text-left">
              <li><a href="#" class="hover:text-white">Home</a></li>
              <li><a href="#" class="hover:text-white">Features</a></li>
              <li><a href="#" class="hover:text-white">Pricing</a></li>
              <li><a href="#" class="hover:text-white">Contact</a></li>
            </ul>
              </div>
            <div class="flex flex-col justify-center mb-8 md:mb-0">
            <h4 class="text-lg font-semibold mb-4">Connect</h4>
            <ul class="text-gray-400 text-center md:text-left">
              <li><a href="#" class="hover:text-white">Twitter</a></li>
              <li><a href="#" class="hover:text-white">LinkedIn</a></li>
              <li><a href="#" class="hover:text-white">Facebook</a></li>
            </ul>
          </div>
          </div>
          
          <div class="w-full md:w-1/4">
            <h4 class="text-lg text-center md:text-start font-semibold mb-4">Newsletter</h4>
            <form class="flex">
              <input
                type="email"
                placeholder="Your email"
                class="w-full px-3 py-2 text-gray-700 bg-gray-200 rounded-l-md focus:outline-none"
                required
              />
              <button
                type="submit"
                class="p-2 bg-indigo-600 text-white rounded-r-lg hover:bg-indigo-700 transition font-normal"
              >
                Subscribe
              </button>
            </form>
          </div>
        </div>
        <div
          class="border-t border-gray-700 mt-12 pt-8 text-sm text-center text-gray-400"
        >
          &copy; 2025 What's Today?. All rights reserved.
        </div>
      </div>
    </footer>
</html>